<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´í˜ ìƒì„¸ ì •ë³´</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <!-- âœ… ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <nav>
        <div class="logo">
            <a href="/"><h1>â˜• Cafe & Wifi API</h1></a>
        </div>
        <ul class="nav-links">
            <li><a href="/">ğŸ  í™ˆ</a></li>
            <li><a href="/add">â• ì¹´í˜ ì¶”ê°€</a></li>
            <li><a href="/update">âœï¸ ì •ë³´ ìˆ˜ì • ìš”ì²­</a></li>
            <li><a href="/apidocs">ğŸ“– API ë¬¸ì„œ</a></li>
            <li><a href="/admin">ğŸ› ï¸ ê´€ë¦¬ì í˜ì´ì§€</a></li>
        </ul>
    </nav>

    <!-- âœ… ì¹´í˜ ìƒì„¸ ì •ë³´ ì¹´ë“œ -->
    <div class="cafe-detail-container">
        <h2 class="cafe-detail-title" id="cafe-name">ì¹´í˜ ì •ë³´</h2>
        <img class="cafe-detail-img" id="cafe-img" src="" alt="ì¹´í˜ ì´ë¯¸ì§€">
        <div class="cafe-detail-info">
            <p><strong>ğŸ“ ìœ„ì¹˜:</strong> <span id="cafe-location"></span></p>
            <p><strong>â˜• ì»¤í”¼ ê°€ê²©:</strong> <span id="cafe-price"></span></p>
            <p><strong>ğŸ’º ì¢Œì„ ìˆ˜:</strong> <span id="cafe-seats"></span></p>
            <p><strong>ğŸ“¶ WiFi:</strong> <span id="cafe-wifi"></span></p>
            <p><strong>ğŸ”Œ ì½˜ì„¼íŠ¸:</strong> <span id="cafe-sockets"></span></p>
        </div>
    </div>

    <script>
        async function loadCafe() {
            const cafeId = "{{ cafe_id }}"; // Flaskì—ì„œ ì „ë‹¬ëœ cafe_id ê°’
            const response = await fetch(`/cafes/${cafeId}`);

            if (!response.ok) {
                document.body.innerHTML = `<h2 style="color: red;">âŒ ì¹´í˜ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</h2>`;
                return;
            }

            const cafe = await response.json();

            document.getElementById("cafe-name").textContent = cafe.name;
            document.getElementById("cafe-img").src = cafe.img_url;
            document.getElementById("cafe-location").textContent = cafe.location;
            document.getElementById("cafe-price").textContent = cafe.coffee_price || "ì •ë³´ ì—†ìŒ";
            document.getElementById("cafe-seats").textContent = cafe.seats;
            document.getElementById("cafe-wifi").textContent = cafe.amenities.has_wifi ? "ê°€ëŠ¥" : "ì—†ìŒ";
            document.getElementById("cafe-sockets").textContent = cafe.amenities.has_sockets ? "ê°€ëŠ¥" : "ì—†ìŒ";
        }

        window.onload = loadCafe;
    </script>

</body>
</html>
